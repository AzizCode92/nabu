<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Nabu-asr: train.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Nabu-asr
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">train.py File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>this file will do the neural net training  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a8f9801a374a3d786c86df993ee9edad2"><td class="memItemLeft" align="right" valign="top"><a id="a8f9801a374a3d786c86df993ee9edad2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>train.FLAGS</b> = tf.app.flags.FLAGS</td></tr>
<tr class="separator:a8f9801a374a3d786c86df993ee9edad2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ce24097d72cc545877b9a6aefe234f3"><td class="memItemLeft" align="right" valign="top"><a id="a7ce24097d72cc545877b9a6aefe234f3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>train.cluster</b> = None</td></tr>
<tr class="separator:a7ce24097d72cc545877b9a6aefe234f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3fca395d19d59eca7c9cb59ecf78071"><td class="memItemLeft" align="right" valign="top"><a id="ab3fca395d19d59eca7c9cb59ecf78071"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>train.server</b> = None</td></tr>
<tr class="separator:ab3fca395d19d59eca7c9cb59ecf78071"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9f4121de1a16fc61cfb0ed407714aed"><td class="memItemLeft" align="right" valign="top"><a id="ac9f4121de1a16fc61cfb0ed407714aed"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>train.clusterdict</b> = dict()</td></tr>
<tr class="separator:ac9f4121de1a16fc61cfb0ed407714aed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96bd15cc643dfed9500f9d490e1c2161"><td class="memItemLeft" align="right" valign="top"><a id="a96bd15cc643dfed9500f9d490e1c2161"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>train.machines</b> = dict()</td></tr>
<tr class="separator:a96bd15cc643dfed9500f9d490e1c2161"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01e90d6d21806af9667e9d03800f4612"><td class="memItemLeft" align="right" valign="top"><a id="a01e90d6d21806af9667e9d03800f4612"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>train.port</b> = 2222</td></tr>
<tr class="separator:a01e90d6d21806af9667e9d03800f4612"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16ec6dc054c3bc507b49006f653d5255"><td class="memItemLeft" align="right" valign="top"><a id="a16ec6dc054c3bc507b49006f653d5255"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>train.split</b> = line.strip().split(',')</td></tr>
<tr class="separator:a16ec6dc054c3bc507b49006f653d5255"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e8b618a018e444c55b235d2f658ec98"><td class="memItemLeft" align="right" valign="top"><a id="a8e8b618a018e444c55b235d2f658ec98"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>train.local</b> = machines[FLAGS.job_name][FLAGS.task_index]</td></tr>
<tr class="separator:a8e8b618a018e444c55b235d2f658ec98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76c0e3d4583e7c77d3f9070e036689a9"><td class="memItemLeft" align="right" valign="top"><a id="a76c0e3d4583e7c77d3f9070e036689a9"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>train.ssh_tunnels</b> = []</td></tr>
<tr class="separator:a76c0e3d4583e7c77d3f9070e036689a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12f4d8797c7e83315a520b6781e0284d"><td class="memItemLeft" align="right" valign="top"><a id="a12f4d8797c7e83315a520b6781e0284d"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>train.tunneled</b> = []</td></tr>
<tr class="separator:a12f4d8797c7e83315a520b6781e0284d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a705c667a907829863400cf6d57ee8305"><td class="memItemLeft" align="right" valign="top"><a id="a705c667a907829863400cf6d57ee8305"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>train.database_cfg_file</b> = 'config/databases/TIMIT.cfg'</td></tr>
<tr class="separator:a705c667a907829863400cf6d57ee8305"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb43bef478db1f59a53d4dbc057172c7"><td class="memItemLeft" align="right" valign="top"><a id="adb43bef478db1f59a53d4dbc057172c7"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>train.feat_cfg_file</b> = 'config/features/fbank.cfg'</td></tr>
<tr class="separator:adb43bef478db1f59a53d4dbc057172c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56188a815ded8e7f9aa36b1fb0d660a3"><td class="memItemLeft" align="right" valign="top"><a id="a56188a815ded8e7f9aa36b1fb0d660a3"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>train.nnet_cfg_file</b> = 'config/nnet/DBLSTM.cfg'</td></tr>
<tr class="separator:a56188a815ded8e7f9aa36b1fb0d660a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac72b9bdf40d677ec21dfcd4af8909153"><td class="memItemLeft" align="right" valign="top"><a id="ac72b9bdf40d677ec21dfcd4af8909153"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>train.trainer_cfg_file</b> = 'config/trainer/CTCtrainer.cfg'</td></tr>
<tr class="separator:ac72b9bdf40d677ec21dfcd4af8909153"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0484bb3f582cac4e4dbc7d5eee34c27d"><td class="memItemLeft" align="right" valign="top"><a id="a0484bb3f582cac4e4dbc7d5eee34c27d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>train.parsed_database_cfg</b> = configparser.ConfigParser()</td></tr>
<tr class="separator:a0484bb3f582cac4e4dbc7d5eee34c27d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cc209ae765e37c70464d32897e291ea"><td class="memItemLeft" align="right" valign="top"><a id="a5cc209ae765e37c70464d32897e291ea"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>train.database_cfg</b> = dict(parsed_database_cfg.items('directories'))</td></tr>
<tr class="separator:a5cc209ae765e37c70464d32897e291ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5083fc2e6b9d10ba016df70d035d411b"><td class="memItemLeft" align="right" valign="top"><a id="a5083fc2e6b9d10ba016df70d035d411b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>train.parsed_feat_cfg</b> = configparser.ConfigParser()</td></tr>
<tr class="separator:a5083fc2e6b9d10ba016df70d035d411b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8d6252526db62bb52379cbc1502c537"><td class="memItemLeft" align="right" valign="top"><a id="ad8d6252526db62bb52379cbc1502c537"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>train.feat_cfg</b> = dict(parsed_feat_cfg.items('features'))</td></tr>
<tr class="separator:ad8d6252526db62bb52379cbc1502c537"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4e8a768597bba43f9a210087257a628"><td class="memItemLeft" align="right" valign="top"><a id="af4e8a768597bba43f9a210087257a628"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>train.parsed_nnet_cfg</b> = configparser.ConfigParser()</td></tr>
<tr class="separator:af4e8a768597bba43f9a210087257a628"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01dea6a1bfe7d3c7927dafb705e24ba2"><td class="memItemLeft" align="right" valign="top"><a id="a01dea6a1bfe7d3c7927dafb705e24ba2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>train.nnet_cfg</b> = dict(parsed_nnet_cfg.items('nnet'))</td></tr>
<tr class="separator:a01dea6a1bfe7d3c7927dafb705e24ba2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a523c3389724d1859e78d6888f1bd5197"><td class="memItemLeft" align="right" valign="top"><a id="a523c3389724d1859e78d6888f1bd5197"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>train.parsed_trainer_cfg</b> = configparser.ConfigParser()</td></tr>
<tr class="separator:a523c3389724d1859e78d6888f1bd5197"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf3b4d46b7066e6699341130d97bc443"><td class="memItemLeft" align="right" valign="top"><a id="abf3b4d46b7066e6699341130d97bc443"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>train.trainer_cfg</b> = dict(parsed_trainer_cfg.items('trainer'))</td></tr>
<tr class="separator:abf3b4d46b7066e6699341130d97bc443"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac70f960105443655148c040ab1aed0e7"><td class="memItemLeft" align="right" valign="top"><a id="ac70f960105443655148c040ab1aed0e7"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>train.featdir</b> = database_cfg['train_features'] + '/' + feat_cfg['name']</td></tr>
<tr class="separator:ac70f960105443655148c040ab1aed0e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5daa5f500203c3c571dffd984454a815"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><b>train.coder</b></td></tr>
<tr class="separator:a5daa5f500203c3c571dffd984454a815"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8acd05f2f21109e1ecbb3e699805540d"><td class="memItemLeft" align="right" valign="top"><a id="a8acd05f2f21109e1ecbb3e699805540d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>train.max_input_length</b> = int(fid.read())</td></tr>
<tr class="separator:a8acd05f2f21109e1ecbb3e699805540d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac031bd21e5deeb863e09e625d631af6c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><b>train.featreader</b></td></tr>
<tr class="separator:ac031bd21e5deeb863e09e625d631af6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee09e82a0c533e9289eef229cfe11d07"><td class="memItemLeft" align="right" valign="top"><a id="aee09e82a0c533e9289eef229cfe11d07"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>train.input_dim</b> = int(fid.read())</td></tr>
<tr class="separator:aee09e82a0c533e9289eef229cfe11d07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61ff23eeed7c366617253530e0ecba95"><td class="memItemLeft" align="right" valign="top"><a id="a61ff23eeed7c366617253530e0ecba95"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>train.expdir</b> = nnet_cfg['expdir']</td></tr>
<tr class="separator:a61ff23eeed7c366617253530e0ecba95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a597a6493dca88d2b1e5f2d5d1f78d294"><td class="memItemLeft" align="right" valign="top"><a id="a597a6493dca88d2b1e5f2d5d1f78d294"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>train.textfile</b> = database_cfg['traintext']</td></tr>
<tr class="separator:a597a6493dca88d2b1e5f2d5d1f78d294"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c776997666e68bd9e43f883cf8c376d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><b>train.dispenser</b></td></tr>
<tr class="separator:a7c776997666e68bd9e43f883cf8c376d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dc5ba274d6d28a06d27b66f9039a90b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><b>train.val_featreader</b></td></tr>
<tr class="separator:a3dc5ba274d6d28a06d27b66f9039a90b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2434654e33fe0a6c38b36e1e05275d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><b>train.val_dispenser</b></td></tr>
<tr class="separator:ab2434654e33fe0a6c38b36e1e05275d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeefd0e9f8725d6165bfe52b6a055f198"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><b>train.class_name</b></td></tr>
<tr class="separator:aeefd0e9f8725d6165bfe52b6a055f198"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1fcac025f0dc2bdb69dfaaa2ef2461e"><td class="memItemLeft" align="right" valign="top"><a id="aa1fcac025f0dc2bdb69dfaaa2ef2461e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>train.classifier</b> = eval(class_name)(nnet_cfg, coder.num_labels + 1)</td></tr>
<tr class="separator:aa1fcac025f0dc2bdb69dfaaa2ef2461e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fc7fde95bfe50b46ac57f445fa4c5b6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><b>train.trainer</b></td></tr>
<tr class="separator:a9fc7fde95bfe50b46ac57f445fa4c5b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>this file will do the neural net training </p>
</div><h2 class="groupheader">Variable Documentation</h2>
<a id="file_aeefd0e9f8725d6165bfe52b6a055f198"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_aeefd0e9f8725d6165bfe52b6a055f198">&sect;&nbsp;</a></span>class_name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string train.class_name</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;=  <span class="stringliteral">&#39;%s.%s&#39;</span> % (nnet_cfg[<span class="stringliteral">&#39;module&#39;</span>],</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;                                           nnet_cfg[<span class="stringliteral">&#39;class&#39;</span>])</div></div><!-- fragment -->
</div>
</div>
<a id="file_a5daa5f500203c3c571dffd984454a815"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_a5daa5f500203c3c571dffd984454a815">&sect;&nbsp;</a></span>coder</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">train.coder</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;=  eval(<span class="stringliteral">&#39;target_coder.%s(target_normalizers.%s)&#39;</span> % (</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;        database_cfg[<span class="stringliteral">&#39;coder&#39;</span>],</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;        database_cfg[<span class="stringliteral">&#39;normalizer&#39;</span>]))</div></div><!-- fragment -->
</div>
</div>
<a id="file_a7c776997666e68bd9e43f883cf8c376d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_a7c776997666e68bd9e43f883cf8c376d">&sect;&nbsp;</a></span>dispenser</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">train.dispenser</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;=  batchdispenser.TextBatchDispenser(</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;        feature_reader=featreader,</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;        target_coder=coder,</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;        size=int(trainer_cfg[<span class="stringliteral">&#39;batch_size&#39;</span>]),</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;        target_path=textfile)</div></div><!-- fragment -->
</div>
</div>
<a id="file_ac031bd21e5deeb863e09e625d631af6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_ac031bd21e5deeb863e09e625d631af6c">&sect;&nbsp;</a></span>featreader</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">train.featreader</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;=  feature_reader.FeatureReader(</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;        scpfile=featdir + <span class="stringliteral">&#39;/feats_shuffled.scp&#39;</span>,</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;        cmvnfile=featdir + <span class="stringliteral">&#39;/cmvn.scp&#39;</span>,</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;        utt2spkfile=featdir + <span class="stringliteral">&#39;/utt2spk&#39;</span>,</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;        context_width=0,</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;        max_input_length=max_input_length)</div></div><!-- fragment -->
</div>
</div>
<a id="file_a9fc7fde95bfe50b46ac57f445fa4c5b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_a9fc7fde95bfe50b46ac57f445fa4c5b6">&sect;&nbsp;</a></span>trainer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">train.trainer</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;=  eval(class_name)(</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;        conf=trainer_cfg,</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;        classifier=classifier,</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;        input_dim=input_dim,</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;        max_input_length=dispenser.max_input_length,</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;        max_target_length=dispenser.max_target_length,</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;        dispenser=dispenser,</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;        val_dispenser=val_dispenser,</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;        logdir=expdir + <span class="stringliteral">&#39;/logdir&#39;</span>,</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;        server=server,</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;        cluster=cluster,</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;        task_index=FLAGS.task_index)</div></div><!-- fragment -->
</div>
</div>
<a id="file_ab2434654e33fe0a6c38b36e1e05275d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_ab2434654e33fe0a6c38b36e1e05275d5">&sect;&nbsp;</a></span>val_dispenser</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">train.val_dispenser</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;=  batchdispenser.TextBatchDispenser(</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;            feature_reader=val_featreader,</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;            target_coder=coder,</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;            size=int(trainer_cfg[<span class="stringliteral">&#39;batch_size&#39;</span>]),</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;            target_path=textfile)</div></div><!-- fragment -->
</div>
</div>
<a id="file_a3dc5ba274d6d28a06d27b66f9039a90b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_a3dc5ba274d6d28a06d27b66f9039a90b">&sect;&nbsp;</a></span>val_featreader</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">train.val_featreader</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;=  feature_reader.FeatureReader(</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;            scpfile=featdir + <span class="stringliteral">&#39;/feats.scp&#39;</span>,</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;            cmvnfile=featdir + <span class="stringliteral">&#39;/cmvn.scp&#39;</span>,</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;            utt2spkfile=featdir + <span class="stringliteral">&#39;/utt2spk&#39;</span>,</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;            context_width=0,</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;            max_input_length=max_input_length)</div></div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
